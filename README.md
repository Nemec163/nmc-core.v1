# NMC Core v1

–ú–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π NMC –ø—Ä–æ–µ–∫—Ç–∞ —Å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
nmc-core.v1/
‚îú‚îÄ‚îÄ apps/                    # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ nmc-site.v1/        # Frontend (Next.js)
‚îÇ   ‚îî‚îÄ‚îÄ nmc-server.v1/      # Backend API (NestJS)
‚îú‚îÄ‚îÄ packages/                # –ü–∞–∫–µ—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ nmc-ui.v1/          # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ nmc-storybook.v1/   # Storybook
‚îú‚îÄ‚îÄ scripts/                 # –°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îî‚îÄ‚îÄ services/               # –°–µ—Ä–≤–∏—Å—ã (nginx)
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è VPS

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø—Ä–æ–µ–∫—Ç
git clone <repo-url> nmc-core.v1
cd nmc-core.v1

# –î–µ–ª–∞–µ–º —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏
chmod +x scripts/*.sh

# –ü–æ–ª–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
./scripts/docker-manager.sh deploy
```

## üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–º

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
./scripts/docker-manager.sh start    # –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ
./scripts/docker-manager.sh stop     # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ
./scripts/docker-manager.sh restart  # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ

# –°–±–æ—Ä–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
./scripts/docker-manager.sh build           # –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã
./scripts/docker-manager.sh rebuild [svc]   # –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å
./scripts/docker-manager.sh deploy          # –ü–æ–ª–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
./scripts/docker-manager.sh status          # –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
./scripts/docker-manager.sh health          # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è

# –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞
./scripts/fast-build.sh                     # –ë—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
./scripts/fast-build.sh nmc-site            # –ë—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
./scripts/fast-build.sh dev                 # –°–±–æ—Ä–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –∫–µ—à–µ–º
./scripts/docker-manager.sh logs [service]  # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```

### –£–¥–æ–±–Ω—ã–µ –∞–ª–∏–∞—Å—ã

–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–∏–∞—Å—ã:

```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ ~/.bashrc –∏–ª–∏ ~/.zshrc
source /path/to/nmc-core.v1/scripts/nmc.sh

# –¢–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω—ã –∫–æ—Ä–æ—Ç–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã:
nmc-start        # –ó–∞–ø—É—Å–∫
nmc-stop         # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
nmc-status       # –°—Ç–∞—Ç—É—Å
nmc-deploy       # –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
```

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pnpm install

# –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–æ–≤
pnpm run dev                # –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
pnpm run dev:site          # –¢–æ–ª—å–∫–æ —Å–∞–π—Ç
pnpm run dev:server        # –¢–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä
pnpm run dev:storybook     # –¢–æ–ª—å–∫–æ Storybook
```

### –°–±–æ—Ä–∫–∞

```bash
pnpm run build              # –°–æ–±—Ä–∞—Ç—å –≤—Å–µ
pnpm run build:storybook    # –°–æ–±—Ä–∞—Ç—å Storybook
```

## üê≥ Docker —Å–µ—Ä–≤–∏—Å—ã

- **nmc-site** - Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Next.js)
- **nmc-server** - Backend API (NestJS)  
- **nmc-storybook** - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **nginx** - Reverse proxy –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

## ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏

–î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ (–æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ —Å–∏—Å—Ç–µ–º–∞—Ö —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏):

### –ë—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞
```bash
# –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
./scripts/fast-build.sh

# –°–±–æ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
./scripts/fast-build.sh nmc-site

# –†–∞–∑—Ä–∞–±–æ—Ç—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ —Å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
./scripts/fast-build.sh dev

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–±–æ—Ä–∫–∏
./scripts/fast-build.sh info

# –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞ —Å–±–æ—Ä–∫–∏
./scripts/fast-build.sh clean
```

### –î–ª—è —Å–∏—Å—Ç–µ–º—ã —Å –æ–¥–Ω–∏–º CPU
–ü—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU –¥–æ 1 —è–¥—Ä–∞
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—É—é —Å–±–æ—Ä–∫—É –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ dev-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
docker compose -f docker-compose.yml -f docker-compose.dev.yml up --build
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤](scripts/README.md)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è VPS](scripts/QUICK_START.md)

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–î–ª—è VPS**: Docker, Docker Compose
- **–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**: Node.js, pnpm

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
./scripts/docker-manager.sh status

# –°–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏
./scripts/docker-manager.sh logs --follow

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ —Å–µ—Ä–≤–∏—Å–æ–≤
./scripts/docker-manager.sh health
```

## üßπ –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

```bash
# –û—á–∏—Å—Ç–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ Docker —Ä–µ—Å—É—Ä—Å—ã
./scripts/docker-manager.sh clean

# –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞
./scripts/nmc.sh fresh
```

## üö¶ –ü–æ—Ä—Ç—ã

- **80/443** - nginx (HTTP/HTTPS)
- **3000** - nmc-site (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)
- **3001** - nmc-server (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)

---

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–º–æ—â–∏ –ø–æ –ª—é–±–æ–º—É —Å–∫—Ä–∏–ø—Ç—É –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–ª–∞–≥ `help`:

```bash
./scripts/docker-manager.sh help
./scripts/dev-helper.sh help
./scripts/nmc.sh help
```
