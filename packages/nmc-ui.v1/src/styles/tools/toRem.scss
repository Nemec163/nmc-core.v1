@use 'sass:math';
@use 'sass:meta';
@use '../variables' as vars;

/// Converts pixel values to rem units
/// @param {Number} $value - Value in pixels
/// @param {Boolean} $useRem - Whether to use rem units (defaults to vars.$useRem)
/// @return {Number} - Value in rem if $useRem is true, otherwise unchanged px value
@function toRem($value, $useRem: vars.$useRem) {
  // Return early if the value is already in rem
  @if math.unit($value) == 'rem' {
    @return $value;
  }

  // Convert px to rem if value is a number with px unit
  @if meta.type-of($value) == 'number' and math.unit($value) == 'px' {
    $pure: math.div($value, 1px);
    @return if($useRem, #{math.div($pure, vars.$baseFontSize)}rem, $value);
  }

  // Show warning for non-px values
  @warn "toRem() expected a px value, got: #{$value}";
  @return null;
}

